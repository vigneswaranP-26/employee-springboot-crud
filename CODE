1. #### EmployeeSpringbootApplication.java ####

package edu.jsp.employee_springboot;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class EmployeeSpringbootApplication {

	public static void main(String[] args) {
		SpringApplication.run(EmployeeSpringbootApplication.class, args);
	}

}

2. #### entity/employee.java ####

package edu.jsp.employee_springboot.entity;

import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;

@Entity
public class employee {

	@Id
	//@GeneratedValue(strategy =GenerationType.IDENTITY)
	@GeneratedValue(strategy = GenerationType.IDENTITY)
	private int id;
	private String name;
	private String gender;
	private String job;
	private double sal;
	public int getId() {
		return id;
	}
	public void setId(int id) {
		this.id = id;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public String getGender() {
		return gender;
	}
	public void setGender(String gender) {
		this.gender = gender;
	}
	public String getJob() {
		return job;
	}
	public void setJob(String job) {
		this.job = job;
	}
	public double getSal() {
		return sal;
	}
	public void setSal(double sal) {
		this.sal = sal;
	}
	
}

3. #### controller/employeeController.java  ####


package edu.jsp.employee_springboot.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import edu.jsp.employee_springboot.entity.employee;
import edu.jsp.employee_springboot.service.employeeService;

@RestController
public class employeeController {
	
	@Autowired
	private employeeService service;
	
	// @RequestMapping(value = "save", method = RequestMethod.Post)
	
	@PostMapping("save")
	public employee saveEmployee(@RequestBody employee e) {
		return service.saveEmployee(e);
	}
	
	@GetMapping("getByid")
	public employee getById(@RequestParam int id) {
		return service.getById(id);
	}
	
	@GetMapping("/fetchAll")
	  public List<employee> getAll() {
		  return service.getAll();
	  }
	  @DeleteMapping("/delete/{id}")
	  public String delete(@PathVariable int id) {
	      return service.delete(id);
	  }
	  
	  @PutMapping("/update/{id}")
	  public String update(@PathVariable int id, @RequestBody employee newEmp) {
	      return service.update(id, newEmp);
	  }

	  @GetMapping("/fetchByJob")
	  public List<employee> getByJob(@RequestParam String job) {
	      return service.getByJob(job);
	  }

	
	  @GetMapping("/fetchBysal")
	  List<employee> fetchBysalBetween(@RequestParam double st, @RequestParam double end){
		  return service.fetchBySalBetween(st,end);
	  }
}

4. ####  repository/employeerepository.java  ####

package edu.jsp.employee_springboot.repository;

import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;

import edu.jsp.employee_springboot.entity.employee;

public interface employeerepository  extends JpaRepository <employee, Integer>{

	//save(employee e);
		//findById(Integer id);
		//findAll()
		//deleteById(Integer id)
		//delete(employee e)
	//select e from employee e where e.name = ?1
	

	List<employee> findByJob(String job);
	
	// List<employee> findBySalBetween(double st, double end );
	
	@Query("select e from employee e where e.sal between ?1 and ?2")

	List<employee> findBySalBetween(double st, double end );
	
	
}

5. #### service/employeeService.java ####

package edu.jsp.employee_springboot.service;
import java.util.List;

import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.web.bind.annotation.GetMapping;


import edu.jsp.employee_springboot.entity.employee;
import edu.jsp.employee_springboot.repository.employeerepository;

@Service
public class employeeService {
	
	@Autowired
	private employeerepository repo;
	
	public employee saveEmployee (employee e) {
		return repo.save(e);
		
	}
  public employee getById(int id) {
	  Optional<employee> o = repo.findById(id);
	  if (o.isPresent ()) {
		  return o.get();		  
	  }
	  return null;
  }
  
  public List<employee> getAll() {
	  return repo.findAll();
  }
   // to avoid null check we use optional
  public String delete(int id) {
	 Optional<employee>o = repo.findById(id);
	 if(o.isPresent()) {
		 repo.deleteById(id);
		 return "Data Deleted";

	 }
	 return "data not saved";
  }
  
  public String update(int id, employee newEmp) {
	  Optional<employee> o = repo.findById(id);
	  if(o.isPresent()){
		  employee exemp = o.get();
		  exemp.setName(newEmp.getName());
		  exemp.setGender(newEmp.getGender());
		  exemp.setJob(newEmp.getJob());
		  exemp.setSal(newEmp.getSal());
		  repo.save(exemp);
		  return "data updated";
	  }
	  return "Data not found";		  
	  }
  public List<employee> getByJob (String job){
	  return repo.findByJob(job);
  }
  public List<employee> fetchBySalBetween(double st, double end){
	  return repo.findBySalBetween(st, end);
 
  }
}



#### Application.properties  ####
spring.application.name=employee_springboot

spring.datasource.url= jdbc:mysql://localhost:3306/springboot_Employee?createDatabaseIfNotExist=true
spring.datasource.username=root
spring.datasource.password=root

spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.show-sql=true




